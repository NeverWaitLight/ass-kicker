## Context

当前系统在初始化时需要预先设置admin账号，这在部署和使用上不够灵活。为了改善用户体验，需要修改登录逻辑，使得第一个注册的用户自动成为admin账号。

## Goals / Non-Goals

**Goals:**
- 实现第一个注册用户自动成为admin账号的逻辑
- 确保系统安全性和数据一致性
- 最小化对现有功能的影响

**Non-Goals:**
- 重构整个用户认证系统
- 添加额外的用户角色类型

## Decisions

1. 在用户注册服务中添加检查逻辑，判断是否为第一个用户
2. 如果是第一个用户，则自动为其分配admin角色
3. 使用数据库事务确保操作的原子性
4. 前端注册流程保持不变，后端自动处理权限分配

## Risks / Trade-offs

[Risk] 第一个用户注册失败可能导致系统无法访问 -> 在注册成功后立即验证admin权限
[Risk] 并发注册可能产生多个admin -> 使用数据库锁或事务确保只有一个用户能被设为admin