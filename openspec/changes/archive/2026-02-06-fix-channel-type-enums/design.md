## Context

当前系统中的channel类型使用开放的字符串类型，没有固定枚举值限制，导致在数据存储和处理过程中可能出现不一致的类型值。为了提高数据一致性和系统稳定性，需要将channel类型限定为SMS、EMAIL、IM、PUSH四种固定类型，并在前后端进行相应的实现。

## Goals / Non-Goals

**Goals:**
- 定义固定的channel类型枚举，包括SMS、EMAIL、IM、PUSH四种类型
- 在后端实现对新枚举的支持，包括API接口、业务逻辑和数据访问层
- 在前端界面中使用单选框替代原有的文本输入框
- 确保现有功能不受影响，数据迁移平滑进行

**Non-Goals:**
- 修改数据库表结构（继续保持字符串类型存储）
- 添加新的通知渠道类型
- 重构整个通知系统架构

## Decisions

1. **Java枚举设计**：创建ChannelType枚举类，包含SMS、EMAIL、IM、PUSH四个值，全部使用大写字母命名，便于识别和维护。

2. **数据库兼容性**：虽然引入了枚举类型，但数据库字段仍保持VARCHAR类型，以避免复杂的数据库迁移操作。通过应用层校验确保只有合法的枚举值被存入数据库。

3. **API接口调整**：更新REST API接口，使用新的枚举类型进行参数校验和响应返回，确保前后端数据一致性。

4. **前端交互改进**：将前端channel type的输入方式从文本框改为单选框，提升用户体验并防止输入错误。

## Risks / Trade-offs

[Risk] 前后端数据格式不一致可能导致系统错误 -> 在API层增加严格的校验机制，确保传输的数据符合枚举定义

[Risk] 现有数据可能包含非标准的channel类型值 -> 实施数据清理脚本，在上线前将不符合规范的数据进行修正或标记

[Risk] 枚举值固定后扩展性受限 -> 未来如需添加新的channel类型，需要重新发布系统，但这种设计保证了当前系统的稳定性和数据一致性